<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Avacados Tutorial - Part 2 | Tech Trainings - From Excel to R</title>
  <meta name="description" content="Tutorial based introduction to R for Excel users" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Avacados Tutorial - Part 2 | Tech Trainings - From Excel to R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Tutorial based introduction to R for Excel users" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Avacados Tutorial - Part 2 | Tech Trainings - From Excel to R" />
  
  <meta name="twitter:description" content="Tutorial based introduction to R for Excel users" />
  

<meta name="author" content="James Simkins" />


<meta name="date" content="2020-06-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="avacados-tutorial-part-1.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.9/datatables.js"></script>
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.19/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Tech Trainings: Excel to R for Businesses</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="welcome.html"><a href="welcome.html"><i class="fa fa-check"></i><b>1</b> Welcome</a><ul>
<li class="chapter" data-level="1.1" data-path="welcome.html"><a href="welcome.html#agenda"><i class="fa fa-check"></i><b>1.1</b> Agenda</a></li>
<li class="chapter" data-level="1.2" data-path="welcome.html"><a href="welcome.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>2</b> Overview</a><ul>
<li class="chapter" data-level="2.1" data-path="overview.html"><a href="overview.html#what-is-r"><i class="fa fa-check"></i><b>2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2" data-path="overview.html"><a href="overview.html#reasons-to-love-r"><i class="fa fa-check"></i><b>2.2</b> Reasons to love R</a></li>
<li class="chapter" data-level="2.3" data-path="overview.html"><a href="overview.html#guiding-principles"><i class="fa fa-check"></i><b>2.3</b> Guiding Principles</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-rstudio.html"><a href="r-rstudio.html"><i class="fa fa-check"></i><b>3</b> R &amp; RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="r-rstudio.html"><a href="r-rstudio.html#open-rstudio"><i class="fa fa-check"></i><b>3.1</b> Open RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="r-rstudio.html"><a href="r-rstudio.html#r-studio-layout"><i class="fa fa-check"></i><b>3.2</b> R Studio Layout</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="installing-and-using-packages.html"><a href="installing-and-using-packages.html"><i class="fa fa-check"></i><b>4</b> Installing and Using Packages</a><ul>
<li class="chapter" data-level="4.1" data-path="installing-and-using-packages.html"><a href="installing-and-using-packages.html#checkpoint---writing-your-first-r-code"><i class="fa fa-check"></i><b>4.1</b> Checkpoint - Writing your first R code</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="technical-definitions-rules.html"><a href="technical-definitions-rules.html"><i class="fa fa-check"></i><b>5</b> Technical Definitions &amp; Rules</a><ul>
<li class="chapter" data-level="5.1" data-path="technical-definitions-rules.html"><a href="technical-definitions-rules.html#important-r-programming-definitions"><i class="fa fa-check"></i><b>5.1</b> Important R Programming Definitions</a></li>
<li class="chapter" data-level="5.2" data-path="technical-definitions-rules.html"><a href="technical-definitions-rules.html#definitions-in-action---tv-data-example"><i class="fa fa-check"></i><b>5.2</b> Definitions in Action - TV Data Example</a><ul>
<li class="chapter" data-level="5.2.1" data-path="technical-definitions-rules.html"><a href="technical-definitions-rules.html#line-by-line-discussion"><i class="fa fa-check"></i><b>5.2.1</b> Line by Line Discussion</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="technical-definitions-rules.html"><a href="technical-definitions-rules.html#parantheses-brackets-and-curly-brackets"><i class="fa fa-check"></i><b>5.3</b> Parantheses (), Brackets [], and Curly brackets</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="avacados-tutorial-part-1.html"><a href="avacados-tutorial-part-1.html"><i class="fa fa-check"></i><b>6</b> Avacados Tutorial - Part 1</a><ul>
<li class="chapter" data-level="6.1" data-path="avacados-tutorial-part-1.html"><a href="avacados-tutorial-part-1.html#ggplot2-crash-course"><i class="fa fa-check"></i><b>6.1</b> ggplot2 crash course</a></li>
<li class="chapter" data-level="6.2" data-path="avacados-tutorial-part-1.html"><a href="avacados-tutorial-part-1.html#load-the-avacados-dataset"><i class="fa fa-check"></i><b>6.2</b> Load the Avacados Dataset</a></li>
<li class="chapter" data-level="6.3" data-path="avacados-tutorial-part-1.html"><a href="avacados-tutorial-part-1.html#exploring-the-dataset"><i class="fa fa-check"></i><b>6.3</b> Exploring the Dataset</a></li>
<li class="chapter" data-level="6.4" data-path="avacados-tutorial-part-1.html"><a href="avacados-tutorial-part-1.html#expanding-the-dataset"><i class="fa fa-check"></i><b>6.4</b> Expanding the dataset</a></li>
<li class="chapter" data-level="6.5" data-path="avacados-tutorial-part-1.html"><a href="avacados-tutorial-part-1.html#avacado-assignment"><i class="fa fa-check"></i><b>6.5</b> Avacado Assignment</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="avacados-tutorial-part-2.html"><a href="avacados-tutorial-part-2.html"><i class="fa fa-check"></i><b>7</b> Avacados Tutorial - Part 2</a><ul>
<li class="chapter" data-level="7.1" data-path="avacados-tutorial-part-2.html"><a href="avacados-tutorial-part-2.html#tidyverse-dplyr-crash-course"><i class="fa fa-check"></i><b>7.1</b> Tidyverse : dplyr crash course</a><ul>
<li class="chapter" data-level="7.1.1" data-path="avacados-tutorial-part-2.html"><a href="avacados-tutorial-part-2.html#dplyr"><i class="fa fa-check"></i><b>7.1.1</b> Dplyr</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">James Simkins</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tech Trainings - From Excel to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="avacados-tutorial---part-2" class="section level1">
<h1><span class="header-section-number">7</span> Avacados Tutorial - Part 2</h1>
<p><img src="images/avacado2.jpeg" width="100%" style="display: block; margin: auto;" /></p>
<p>We’re going to continue our exploration of the Avacados dataset for this tutorial. We’re going to introduce <code>dplyr</code>, an R package with tremendous power that was built with Excel users in mind.</p>
<p><strong>Goals of this tutorial</strong>
- Introduce Tidyverse and <code>dplyr</code>
- Practice exploring the avacados dataset using <code>dplyr</code>
- Create more advanced <code>ggplot</code> plots
- Forecast Avacado pricing</p>
<p><strong>Datasets used</strong>
- <code>avacado.csv</code></p>
<div id="tidyverse-dplyr-crash-course" class="section level2">
<h2><span class="header-section-number">7.1</span> Tidyverse : dplyr crash course</h2>
<p>The tidyverse is a collection of R packages for data manipulation, exploration and visualization that share a common design philosophy. The advantages of the tidyverse include consistent functions, workflow coverage, a path to data science education, a parsimonious approach to the development of data science tools, and the possibility of greater productivity. The tidyverse packages can be used in conjunction with any R packages but they are designed to work seamlessly with each other. The basic set of packages are:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-50"></span>
<img src="images/tidyverse1.png" alt="Image courtesy of https://rviews.rstudio.com/2017/06/08/what-is-the-tidyverse/)" width="100%" />
<p class="caption">
Figure 7.1: Image courtesy of <a href="https://rviews.rstudio.com/2017/06/08/what-is-the-tidyverse/" class="uri">https://rviews.rstudio.com/2017/06/08/what-is-the-tidyverse/</a>)
</p>
</div>
<p>As we see from the image, we’re already familiar with the visualization package of tidyverse - <code>ggplot2</code> ! As stated in the introductory material, there are thousands of packages in R, many of which solve the same problem. Tidyverse is just a specific set of packages that are enhanced to work together, so from here on we’re going to stick to this set of R packages for consistency. Tidyverse data science forms what we refer to as <code>tidy datasets</code>, which just refers to specific datasets in tidy format. You can use any R package with <code>tidy datasets</code> and can also use tidyverse packages on a regular <code>data.frame</code>. When you use the set of tidyverse packages together, however, you have some <em>extra</em> functionality which will come in handy. You can read more about tidyverse in <a href="https://rviews.rstudio.com/2017/06/08/what-is-the-tidyverse/">this R blog post</a></p>
<div id="dplyr" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Dplyr</h3>
<p><code>dplyr</code> is an R package for data manipulation, providing a consistent set of functions that help you solve the most common data manipulation challenges. <code>dplyr</code> is part of the Tidyverse family of packages, thus allowing a user to create tidy datasets. “Tidy datasets are easy to manipulate, model and visualise, and have a specific structure: each variable is a column, each observation is a row, and each type of observational unit is a table.” <a href="https://www.jstatsoft.org/article/view/v059i10">(From Wickham, H. (2014): Tidy Data)</a>)</p>
<ul>
<li><code>select()</code> picks variables based on their names.</li>
<li><code>filter()</code> picks cases based on their values.</li>
<li><code>mutate()</code> adds new variables that are functions of existing variables</li>
<li><code>summarise()</code> reduces multiple values down to a single summary.</li>
<li><code>arrange()</code> changes the ordering of the rows.</li>
</ul>
<p>These all combine naturally with <code>group_by()</code> which allows you to perform any operation by group.</p>
<p>** Exploring Dplyr **</p>
<p>Let’s begin by loading our packages and opening the avacados dataset back up.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="co"># first let&#39;s load in the packages we need</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="kw">library</span>(data.table)</a>
<a class="sourceLine" id="cb67-3" data-line-number="3"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb67-4" data-line-number="4"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb67-5" data-line-number="5"></a>
<a class="sourceLine" id="cb67-6" data-line-number="6"></a>
<a class="sourceLine" id="cb67-7" data-line-number="7"><span class="co"># now let&#39;s load in our dataset using read.csv</span></a>
<a class="sourceLine" id="cb67-8" data-line-number="8">avacado_df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;datasets/avocado.csv&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-e44cc17edc488dc8395d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e44cc17edc488dc8395d">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],[0,1,2,3,4,5,6,7,8,9],["2015-12-27","2015-12-20","2015-12-13","2015-12-06","2015-11-29","2015-11-22","2015-11-15","2015-11-08","2015-11-01","2015-10-25"],[1.33,1.35,0.93,1.08,1.28,1.26,0.99,0.98,1.02,1.07],[64236.62,54876.98,118220.22,78992.15,51039.6,55979.78,83453.76,109428.33,99811.42,74338.76],[1036.74,674.28,794.7,1132,941.48,1184.27,1368.92,703.75,1022.15,842.4],[54454.85,44638.81,109149.67,71976.41,43838.39,48067.99,73672.72,101815.36,87315.57,64757.44],[48.16,58.33,130.5,72.58,75.78,43.61,93.26,80,85.34,113],[8696.87,9505.56,8145.35,5811.16,6183.95,6683.91,8318.86,6829.22,11388.36,8625.92],[8603.62,9408.07,8042.21,5677.4,5986.26,6556.47,8196.81,6266.85,11104.53,8061.47],[93.25,97.49,103.14,133.76,197.69,127.44,122.05,562.37,283.83,564.45],[0,0,0,0,0,0,0,0,0,0],["conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional"],[2015,2015,2015,2015,2015,2015,2015,2015,2015,2015],["Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany"]],"container":"<table class=\"table-condensed\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X<\/th>\n      <th>Date<\/th>\n      <th>AveragePrice<\/th>\n      <th>Total.Volume<\/th>\n      <th>X4046<\/th>\n      <th>X4225<\/th>\n      <th>X4770<\/th>\n      <th>Total.Bags<\/th>\n      <th>Small.Bags<\/th>\n      <th>Large.Bags<\/th>\n      <th>XLarge.Bags<\/th>\n      <th>type<\/th>\n      <th>year<\/th>\n      <th>region<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9,10,11,13]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Now, let’s use <code>dplyr</code> with this dataset. First, let’s select a subset of this dataset using the <code>select()</code> function</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="co"># subselect the Average Price, Total Volume, and type from our original dataset</span></a>
<a class="sourceLine" id="cb68-2" data-line-number="2">select_df &lt;-<span class="st"> </span><span class="kw">select</span>(<span class="dt">.data =</span> avacado_df, AveragePrice, Total.Volume, type)</a></code></pre></div>
<div id="htmlwidget-03026fdcc955b09a590e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-03026fdcc955b09a590e">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],[1.33,1.35,0.93,1.08,1.28,1.26,0.99,0.98,1.02,1.07],[64236.62,54876.98,118220.22,78992.15,51039.6,55979.78,83453.76,109428.33,99811.42,74338.76],["conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional"]],"container":"<table class=\"table-condensed\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>AveragePrice<\/th>\n      <th>Total.Volume<\/th>\n      <th>type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>A key thing to notice here is the arguments after the <code>.data</code> argument. If we use the <code>help()</code> function to learn more about <code>select()</code>, we see that the arguments are <code>.data.</code> and <code>...</code>. The <code>...</code> is another way to describe ambiguous arguments - meaning you can add as many or as few as you want. In this case, we want the variable names we want to select here. Note that even though it’s good practice to always use the convention of <code>argument = my_specific_argument_condition</code>, you don’t <em>have to</em> add the <code>argument =</code> part so long as the arguments are written <strong>in the same order</strong> the function expects. For example, in the code above, we don’t need to write <code>select(.data = avacado_df, AveragePrice, Total.Volume, type)</code>, we can simply write <code>select(avacado_df, AveragePrice, Total.Volume, type)</code>. This is true for ALL functions, but you’ll need to keep the order of your arguments straight.</p>
<p>Now let’s filter the original <code>avacado_df</code> to extract cases where avacados are organic</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="co"># filter the dataset when the type is organic</span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2">filter_df &lt;-<span class="st"> </span><span class="kw">filter</span>(<span class="dt">.data =</span> avacado_df, type<span class="op">==</span><span class="st">&#39;organic&#39;</span>)</a></code></pre></div>
<div id="htmlwidget-1e982ea061cd9a546e00" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1e982ea061cd9a546e00">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],[0,1,2,3,4,5,6,7,8,9],["2015-12-27","2015-12-20","2015-12-13","2015-12-06","2015-11-29","2015-11-22","2015-11-15","2015-11-08","2015-11-01","2015-10-25"],[1.83,1.89,1.85,1.84,1.94,1.94,1.89,1.88,1.88,1.83],[989.55,1163.03,995.96,1158.42,831.69,858.83,1208.54,1332.27,1021.68,1161.9],[8.16,30.24,10.44,90.29,0,13.84,20.71,20.08,11.47,49.27],[88.59,172.14,178.7,104.18,94.73,84.18,238.16,351.4,137.58,148.96],[0,0,0,0,0,0,0,0,0,0],[892.8,960.65,806.82,963.95,736.96,760.81,949.67,960.79,872.63,963.67],[892.8,960.65,806.82,948.52,736.96,755.69,949.67,960.79,872.63,963.67],[0,0,0,15.43,0,5.12,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],["organic","organic","organic","organic","organic","organic","organic","organic","organic","organic"],[2015,2015,2015,2015,2015,2015,2015,2015,2015,2015],["Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany"]],"container":"<table class=\"table-condensed\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X<\/th>\n      <th>Date<\/th>\n      <th>AveragePrice<\/th>\n      <th>Total.Volume<\/th>\n      <th>X4046<\/th>\n      <th>X4225<\/th>\n      <th>X4770<\/th>\n      <th>Total.Bags<\/th>\n      <th>Small.Bags<\/th>\n      <th>Large.Bags<\/th>\n      <th>XLarge.Bags<\/th>\n      <th>type<\/th>\n      <th>year<\/th>\n      <th>region<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9,10,11,13]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Now let’s <code>mutate</code> the dataset and add our revenue and profit columns.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="co"># filter the dataset when the type is organic</span></a>
<a class="sourceLine" id="cb70-2" data-line-number="2">mutate_df =<span class="st"> </span><span class="kw">mutate</span>(avacado_df, <span class="dt">revenue =</span> AveragePrice <span class="op">*</span>Total.Volume)</a></code></pre></div>
<div id="htmlwidget-cef58894bd8c9f461c1c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cef58894bd8c9f461c1c">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],[0,1,2,3,4,5,6,7,8,9],["2015-12-27","2015-12-20","2015-12-13","2015-12-06","2015-11-29","2015-11-22","2015-11-15","2015-11-08","2015-11-01","2015-10-25"],[1.33,1.35,0.93,1.08,1.28,1.26,0.99,0.98,1.02,1.07],[64236.62,54876.98,118220.22,78992.15,51039.6,55979.78,83453.76,109428.33,99811.42,74338.76],[1036.74,674.28,794.7,1132,941.48,1184.27,1368.92,703.75,1022.15,842.4],[54454.85,44638.81,109149.67,71976.41,43838.39,48067.99,73672.72,101815.36,87315.57,64757.44],[48.16,58.33,130.5,72.58,75.78,43.61,93.26,80,85.34,113],[8696.87,9505.56,8145.35,5811.16,6183.95,6683.91,8318.86,6829.22,11388.36,8625.92],[8603.62,9408.07,8042.21,5677.4,5986.26,6556.47,8196.81,6266.85,11104.53,8061.47],[93.25,97.49,103.14,133.76,197.69,127.44,122.05,562.37,283.83,564.45],[0,0,0,0,0,0,0,0,0,0],["conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional","conventional"],[2015,2015,2015,2015,2015,2015,2015,2015,2015,2015],["Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany","Albany"],[85434.7046,74083.923,109944.8046,85311.522,65330.688,70534.5228,82619.2224,107239.7634,101807.6484,79542.4732]],"container":"<table class=\"table-condensed\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X<\/th>\n      <th>Date<\/th>\n      <th>AveragePrice<\/th>\n      <th>Total.Volume<\/th>\n      <th>X4046<\/th>\n      <th>X4225<\/th>\n      <th>X4770<\/th>\n      <th>Total.Bags<\/th>\n      <th>Small.Bags<\/th>\n      <th>Large.Bags<\/th>\n      <th>XLarge.Bags<\/th>\n      <th>type<\/th>\n      <th>year<\/th>\n      <th>region<\/th>\n      <th>revenue<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9,10,11,13,15]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="avacados-tutorial-part-1.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
